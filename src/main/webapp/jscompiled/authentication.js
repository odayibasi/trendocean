function authentication_setWaitingIconVisib(a){if($("#icoWaiting")!=null)a==true?$("#icoWaiting").show():$("#icoWaiting").hide()}var authenticationPage=PAGE_INDEX;
function authentication_error(a){authentication_setWaitingIconVisib(false);if(a.status==HTTP_STATUS_UNAUTHORIZED)authenticationPage!=PAGE_LOGIN?redirection_execute(authenticationPage,PAGE_LOGIN,ERR_MSG_LOGIN_FAILED):notifyBar_display(ERR_MSG_LOGIN_FAILED,ICON_URL_NOTIFY_WRONG);else if(a.status==HTTP_STATUS_FORBIDDEN)notifyBar_display(ERR_MSG_NOT_ACTIVATED_ACCOUNT,ICON_URL_NOTIFY_WRONG);else window.location.href=PAGE_OVERLOAD}
function authentication_sucess(a){authentication_setWaitingIconVisib(false);var b=$("#remindMe_login:checked").val();cookie_saveLoginUser(a,b);window.location.href=PAGE_HOME}
function authentication_initialize(a){if(a!=null)authenticationPage=a;authentication_setWaitingIconVisib(false);$("#btnLogin").click(function(b){b.preventDefault();authentication_setWaitingIconVisib(true);b=$("#username_login").val();var d=$("#password_login").val(),e=$("#remindMe_login:checked").val();cookie_wrap(COOKIE_REMEMBERME,b,e);if(b==TEXT_NULL||d==TEXT_NULL){notifyBar_display(ERR_MSG_LOGIN_FAILED,ICON_URL_NOTIFY_WRONG);authentication_setWaitingIconVisib(false)}else{$.ajax({url:"api/authentication/login/",
type:"POST",data:{j_username:b,j_password:d},dataType:"json",success:function(c){authentication_sucess(c)},error:function(c){authentication_error(c)}});return false}})};
