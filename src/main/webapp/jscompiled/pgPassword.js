redirection_toClearURL()||cookie_get(COOKIE_SIGNIN)!=COOKIE_SIGNIN_VAL&&redirection_execute(PAGE_PASSWD,PAGE_INDEX,ERR_MSG_PLEASE_SIGNIN);
$(document).ready(function(){if(!(cookie_get(COOKIE_SIGNIN)!=COOKIE_SIGNIN_VAL||redirection_isURLContainsSSLOrWWW())){theme_processDesign();document.title="TrendOcean / "+cookie_get(COOKIE_USERNAME)+"'s password settings";mainBar_signPageName(MAINBAR_LINK_SETTING);$(window).unload(function(){mainBar_unsignPageName(MAINBAR_LINK_SETTING)});$("#icoWaiting").hide();mainBar_initialize();mainBar_initializeSearch();notifyBar_initialize();mainLinks_initialize(PAGE_PASSWD);$("#btnSavePassword").click(function(a){a.preventDefault();
if(common_checkPOST()){a=cookie_get(COOKIE_USERNAME);var c=$("#current_password").val(),b=$("#firstPassword_password").val(),d=$("#secondPassword_password").val();if(b!=d){notifyBar_display("Password not same",ICON_URL_NOTIFY_WRONG);return false}if(!common_checkPassword(b)){notifyBar_display("Invalid Password Format",ICON_URL_NOTIFY_WRONG);return false}$("#icoWaiting").show();$.ajax({url:"api/authentication/password/change/"+a,type:"POST",data:{newPassword:b,currentPassword:c},success:function(){$("#icoWaiting").hide();
$("#current_password").val("");$("#firstPassword_password").val("");$("#secondPassword_password").val("");notifyBar_display("Password Change Succeed",ICON_URL_NOTIFY_TRUE)},error:function(e){notifyBar_display(ERR_MSG_WEBSERVICE+":"+e.status,ICON_URL_NOTIFY_WRONG)}})}return false})}});
